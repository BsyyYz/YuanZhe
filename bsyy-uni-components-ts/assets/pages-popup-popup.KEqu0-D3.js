import{d as o,r as t,f as e,g as s,o as a,c as n,w as l,a as i,k as p,h as u,j as d,e as r,_ as f,l as c,b as m,i as y}from"./index-BL3nBBYq.js";import{r as h}from"./uni-app.es.DkuoxClw.js";const v=f(o({__name:"bsyy-popup",props:{show:{type:Boolean,default:!0},position:{default:"bottom"},zIndex:{default:2e3},closeOnClickOverlay:{type:Boolean,default:!0}},emits:["update:show","close"],setup(o,{emit:f}){let c=null;const m=o,y=f,h=t("none"),v=t(null);e((()=>m.show),(o=>o?_():w())),c=s({duration:200,timingFunction:"ease-in-out",delay:0}),m.show?_():w();function _(){document.body.style.overflow="hidden",h.value="flex",setTimeout((()=>{c.opacity(1).step(),v.value=c.export()}),17)}function w(){document.body.style.overflow="visible",c.opacity(0).step(),v.value=c.export(),setTimeout((()=>h.value="none"),200)}return(o,t)=>{const e=r;return a(),n(e,{class:"bsyy-popup",animation:v.value,style:p({display:h.value,zIndex:o.zIndex,justifyContent:"left"==m.position?"flex-start":"right"==m.position?"flex-end":"normal",alignItems:"top"==m.position?"flex-start":"bottom"==m.position?"flex-end":"normal"}),onClick:t[1]||(t[1]=u((o=>{m.closeOnClickOverlay&&(y("update:show",!1),y("close"))}),["stop"]))},{default:l((()=>[i(e,{class:"inner",style:p({width:"top"==m.position||"bottom"==m.position?"100%":"auto",height:"left"==m.position||"right"==m.position?"100%":"auto",transform:m.show?"none":"left"==m.position?"translateX(-100%)":"right"==m.position?"translateX(100%)":"top"==m.position?"translateY(-100%)":"bottom"==m.position?"translateY(100%)":"none"}),onClick:t[0]||(t[0]=u((()=>{}),["stop"]))},{default:l((()=>[d(o.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["animation","style"])}}}),[["__scopeId","data-v-866ccdff"]]),_=f(o({__name:"popup",setup(o){const e=t(!0);return(o,t)=>{const s=y,p=r,u=h(c("bsyy-popup"),v);return a(),n(p,{class:"popup"},{default:l((()=>[i(s,{onClick:t[0]||(t[0]=o=>e.value=!0)},{default:l((()=>[m("打开 Popup")])),_:1}),i(u,{show:e.value,"onUpdate:show":t[1]||(t[1]=o=>e.value=o)},{default:l((()=>[i(p,{class:"popup"},{default:l((()=>[m("Hello Popup!")])),_:1})])),_:1},8,["show"])])),_:1})}}}),[["__scopeId","data-v-887d0238"]]);export{_ as default};
